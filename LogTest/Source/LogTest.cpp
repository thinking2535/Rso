#include "stdafx.h"
#include <Rso/Base/Thread.h>
#include <Rso/Log/Log.h>
#include <vector>

using namespace rso;
using namespace base;
using namespace log;
using namespace std;

CLog g_Log(ETarget::Target_Console | ETarget::Target_File, EPeriod::Second, _T("Name/"), _T("¿Ã∏ß"), ELocale::Korean);

void Process(const volatile bool* Exit_)
{
	while (*Exit_ == false)
	{
		g_Log.Push(StringFormat(L"0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000"));
		g_Log.Push(StringFormat(L"0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000"));
		g_Log.Push(StringFormat(L"0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000"));
		g_Log.Push(StringFormat(L"0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000"));
		g_Log.Push(StringFormat(L"0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000"));
	}
}
void Process2(const volatile bool* Exit_)
{
	while (*Exit_ == false)
	{
		g_Log.Push(StringFormat(L"2222222222222222222222222222222222222222222222222222222222222222222222222222222222222222"));
		g_Log.Push(StringFormat(L"2222222222222222222222222222222222222222222222222222222222222222222222222222222222222222"));
		g_Log.Push(StringFormat(L"2222222222222222222222222222222222222222222222222222222222222222222222222222222222222222"));
		g_Log.Push(StringFormat(L"2222222222222222222222222222222222222222222222222222222222222222222222222222222222222222"));
		g_Log.Push(StringFormat(L"2222222222222222222222222222222222222222222222222222222222222222222222222222222222222222"));
	}
}

CThread g_Worker(Process);
CThread g_Worker2(Process2);

int _tmain(int argc, _TCHAR* argv[])
{
	while (true)
	{
		g_Log.Push(StringFormat(L"1111111111111111111111111111111111111111111111111111111111111111111111111111111111111111"));
		g_Log.Push(StringFormat(L"1111111111111111111111111111111111111111111111111111111111111111111111111111111111111111"));
		g_Log.Push(StringFormat(L"1111111111111111111111111111111111111111111111111111111111111111111111111111111111111111"));
		g_Log.Push(StringFormat(L"1111111111111111111111111111111111111111111111111111111111111111111111111111111111111111"));
		g_Log.Push(StringFormat(L"1111111111111111111111111111111111111111111111111111111111111111111111111111111111111111"));
		g_Log.Push(StringFormat(L"1111111111111111111111111111111111111111111111111111111111111111111111111111111111111111"));
	}

	return 0;
}

